<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Alieniloquent: Adding files to <code>auto-mode-alist</code></title>
  <link rel="stylesheet" type="text/css" href="/stylesheets/yui-reset.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/yui-fonts.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/yui-grids.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/simple-style.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/blog.css" />
</head>
<body>
 <div id="doc" class="yui-t4">
   <div id="hd" class="content">
     <h1 id="title"><a href="http://www.alieniloquent.com/">Alieniloquent</a></h1>
     <ul id="navigation">
       <li class="first"><a href="http://blog.alieniloquent.com">blog</a></li>
       <li><a href="http://github.com/stesla">code</a></li>
       <li><a href="http://www.alieniloquent.com/resume.pdf">resum&eacute;</a></li>
     </ul>
     <br/>
   </div>
   <div id="bd">
     <div id="yui-main">
       <div class="yui-b">
         <div class="post">
  <h3><a href="/2008/01/31/adding-files-to-auto-mode-alist.html" title="Permalink for this post">Adding files to <code>auto-mode-alist</code></a></h3>
  <p class="date">January 31st, 2008</p>
  <div class="entry"><p>One of the things that I require from an editor is decent syntax highlighting. Emacs provides me that, and it also provides me with awesome indentation (I&#8217;ve grown addicted to hitting TAB and having my text just go to the right place regardless of where my cursor is). Emacs has a mode for every occasion and typically will load the right one based on the name of the file or its content. Recently, mine stopped doing that.</p>

<p>At first it was annoying. I&#8217;d open a LaTeX file and it wouldn&#8217;t change to <code>latex-mode</code>, or I&#8217;d open a C file and it wouldn&#8217;t go into <code>c-mode</code>, and worst of all, I&#8217;d load Emacs lisp files and they wouldn&#8217;t load in <code>emacs-lisp-mode</code>. I would just switch the mode by hand, but my patience could only last for so long.</p>

<p>Yesterday I finally took the time to find the trouble, shoot it, and replace it with better code. In my <code>.emacs</code> I had this:</p>
<div class='highlight'><pre><code class='text'>(setq auto-mode-alist
      (append
       &#39;((&quot;\\.dtd$&quot; . xml-mode)
         (&quot;\\.xml$&quot; . xml-mode)
         (&quot;\\.yml$&quot; . conf-mode)
         (&quot;bash_profile$&quot; . sh-mode)
         (&quot;bashrc$&quot; . sh-mode))
       auto-mode-alist))
</code></pre>
</div>
<p>I&#8217;ve seen that same code all over the internet, and it used to work just fine. But for some reason, now it does something to my <code>auto-mode-alist</code> and makes Emacs hate it for some reason. So I do some research. The recommended way to put stuff in an alist like that is <code>ADD-TO-LIST</code>.</p>

<p>So the above code becomes this:</p>
<div class='highlight'><pre><code class='text'>(mapcar (lambda (mapping) (add-to-list &#39;auto-mode-alist mapping))
        &#39;((&quot;\\.dtd$&quot; . xml-mode)
          (&quot;\\.xml$&quot; . xml-mode)
          (&quot;\\.yml$&quot; . conf-mode)
          (&quot;bash_profile$&quot; . sh-mode)
          (&quot;bashrc$&quot; . sh-mode)))
</code></pre>
</div>
<p>Putting that code in fixed my problems, and now all of my modes load correctly.</p></div>
  <p class="metadata alt">You may notice that I do not provide a space
    for comments. If you want to start a conversation, you can
    <a href="mailto:blog@alieniloquent.com">email me</a>, 
    <a href="http://twitter.com/stesla">tweet at me</a>, or post
    something on your own blog.</p>
</div>

       </div>
     </div>
     <div class="yui-b">
       <div class="yui-u sidebar">
         <h2 class="sectionheader first">Archives</h2>
         <ul>
           
           <li><a href="/2011/">2011</a></li>
           
           <li><a href="/2010/">2010</a></li>
           
           <li><a href="/2009/">2009</a></li>
           
           <li><a href="/2008/">2008</a></li>
           
           <li><a href="/2007/">2007</a></li>
           
           <li><a href="/2006/">2006</a></li>
           
           <li><a href="/2005/">2005</a></li>
           
         </ul>
       </div>
     </div>
   </div>
   <div id="ft">
     <p>Layout, design, graphics, photography and text all &copy; 2005-2010 Samuel Tesla unless otherwise noted.</p>
     <p>Portions of the site layout use Yahoo! YUI Reset, Fonts &amp; Grids.</p>
   </div>
 </div>

<!-- BEGIN GOOGLE ANALYTICS -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-12538528-2");
pageTracker._setDomainName(".alieniloquent.com");
pageTracker._trackPageview();
} catch(err) {}</script>
<!-- END GOOGLE ANALYTICS -->

</body>
</html>
