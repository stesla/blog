<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Alieniloquent: 2009</title>
  <link rel="stylesheet" type="text/css" href="/stylesheets/yui-reset.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/yui-fonts.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/yui-grids.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/simple-style.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/blog.css" />
</head>
<body>
 <div id="doc" class="yui-t4">
   <div id="hd" class="content">
     <h1 id="title"><a href="http://www.alieniloquent.com/">Alieniloquent</a></h1>
     <ul id="navigation">
       <li class="first"><a href="http://blog.alieniloquent.com">blog</a></li>
       <li><a href="http://github.com/stesla">code</a></li>
       <li><a href="http://www.alieniloquent.com/resume.pdf">resum&eacute;</a></li>
     </ul>
     <br/>
   </div>
   <div id="bd">
     <div id="yui-main">
       <div class="yui-b">
         
<div class="post">
  <h3><a href="/2009/12/15/newsflash-go-is-experimental.html" rel="bookmark" title="Permanent Link to Newsflash: Go is Experimental">Newsflash: Go is Experimental</a></h3>
  <p class="date">December 15th, 2009</p>
  <div class="entry"><p>Saw a <a href='http://monoc.mo.funpic.de/go-rant/'>rant</a> today about <a href='http://golang.org'>Go</a>. I was genuinely impressed with the amount of piss and vinegar the author managed to conjure up over this. He&#8217;s more upset about this language than I am excited about it, and I wrote a <a href='http://github.com/stesla/gospecify'>library</a> in it and an <a href='http://www.engineyard.com/blog/2009/ready-set-go/'>article</a> about it already. He brought up some valid points, but overall, he completely missed the mark.</p>

<p>The author brings up two major gripes with Go: it has an ugly syntax, and it lacks innovation. I&#8217;ll cede both points, but with a few reservations. Go is experimental. It&#8217;s not complete yet. In fact, the language is still changing. The Go authors released it so that other people could see what they were working on, but even they don&#8217;t suggest using it for anything critical. Go is not intended to replace Java, or even C++ (though maybe). It&#8217;s an upgrade to C.</p>

<h3 id='ugly_syntax'>Ugly Syntax!</h3>

<p>I&#8217;m not a huge fan of Go&#8217;s syntax. It&#8217;s a curly-brace language. I do, however, understand why the syntax looks like it does. It is a similar reason to why JavaScript looks like Java. I don&#8217;t have a direct line into the Go authors&#8217; thoughts, but I&#8217;d wager they wanted something familiar. So we end up with another curly-brace language. I forgive them.</p>

<p>That said, I&#8217;d love to hear what the author suggests as alternative syntaxes for the statements he calls out. In fact, I&#8217;m sure the Go authors would love to hear any constructive suggestions he might have on a better syntax for these things. I know that the <a href='http://groups.google.com/group/golang-nuts'>mailing list</a> has frequent discussion regarding ways to improve the syntax. The Go authors are willing to consider changes, especially changes that are proposed along with patches that show how to implement them.</p>

<p>I do want to call him out on his hate of the condition initializer. That new syntax, along with multiple return values allows programmers to replace C code like this:</p>
<div class='highlight'><pre><code class='c'><span class='kt'>int</span> <span class='n'>result</span> <span class='o'>=</span> <span class='n'>someCall</span><span class='p'>();</span>
<span class='k'>if</span> <span class='n'>result</span> <span class='o'>&lt;</span> <span class='mi'>0</span> <span class='p'>{</span>
  <span class='cm'>/* Handle Error */</span>
<span class='p'>}</span> <span class='k'>else</span> <span class='p'>{</span>
  <span class='cm'>/* Do something with result */</span>
<span class='p'>}</span>

<span class='cm'>/* Or worse... */</span>

<span class='k'>if</span> <span class='p'>(</span><span class='n'>result</span> <span class='o'>=</span> <span class='n'>someCall</span><span class='p'>())</span> <span class='o'>&lt;</span> <span class='mi'>0</span> <span class='p'>{</span>
  <span class='cm'>/* Handle Error */</span>
<span class='p'>}</span> <span class='k'>else</span> <span class='p'>{</span>
  <span class='cm'>/* Do something with result */</span>
<span class='p'>}</span>
</code></pre>
</div>
<p>With Go code like this:</p>
<div class='highlight'><pre><code class='go'><span class='k'>if</span> <span class='n'>result</span><span class='p'>,</span> <span class='n'>err</span> <span class='p'>:=</span> <span class='n'>someCall</span><span class='p'>();</span> <span class='k'>if</span> <span class='n'>err</span> <span class='p'>!=</span> <span class='n'>nil</span> <span class='p'>{</span>
  <span class='cm'>/* Handle Error */</span>
<span class='p'>}</span> <span class='k'>else</span> <span class='p'>{</span>
  <span class='cm'>/* Do something with result */</span>
<span class='p'>}</span>
</code></pre>
</div>
<p>Notably, in the Go code, both <code>result</code> and <code>err</code> are scoped to just inside the if statement. They don&#8217;t clutter the surrounding block. I&#8217;ll talk more about this pattern in the part about exceptions.</p>

<h3 id='innovation'>Innovation?</h3>

<p>I will take the author&#8217;s statement that Go lacks innovation, and go one step further. Go offers <em>no real innovation</em> over other languages that exist today. The three things that the author calls out aren&#8217;t really innovative. Analogs to both channels and goroutines have been present in Erlang for twenty years. The interface-only inheritance is just a way to apply the duck-typing concepts of Ruby and Python to a statically type-checked language. There is nothing new to see here. Move along.</p>

<p>The point the author fails to see is that Go is not meant to innovate programming theory. It&#8217;s meant to innovate programming practice. This is an upgrade to C. It&#8217;s a language that applies the innovations of the last thirty years to the systems world, where the state of the art is still <em>portable assembler</em>. So no, the language isn&#8217;t introducing brilliant new ideas. It&#8217;s taking tested old ideas, and introducing them into a new arena.</p>

<h3 id='exceptions'>Exceptions</h3>

<p><em>Oh no!</em> Go doesn&#8217;t have exceptions. Everybody knows that every <em>modern</em> language has exceptions. You can&#8217;t write <em>real</em> programs without non-local transfer of control. Wait? What&#8217;s that you say? C doesn&#8217;t have exceptions? <a href='http://www.linux.org/'>People</a> <a href='http://httpd.apache.org/'>still</a> <a href='http://git-scm.com/'>code</a> <a href='http://code.google.com/p/redis/'>in</a> <a href='http://github.com/erlang/otp'>that</a> <a href='http://www.gtk.org/'>unusable</a> <a href='http://memcached.org/'>language</a>?</p>

<p>Don&#8217;t get the wrong idea. I think exceptions are useful. I use them in languages that have them. I also strongly dislike the C idiom of returning out-of-band values to indicate errors (thus requiring that some value <em>be</em> out of band). However, I think Go has a reasonable way to handle this. Using multiple return values, named return variables, and the comma-error pattern, a decent error reporting facility can be created without exceptions.</p>

<p>Here is an example:</p>
<div class='highlight'><pre><code class='go'><span class='k'>func</span> <span class='n'>magic</span><span class='p'>()</span> <span class='p'>(</span><span class='n'>result</span> <span class='nb'>int</span><span class='p'>,</span> <span class='n'>err</span> <span class='n'>io</span><span class='p'>.</span><span class='n'>Error</span><span class='p'>)</span> <span class='p'>{</span>
  <span class='k'>if</span> <span class='n'>err</span> <span class='p'>=</span> <span class='n'>moreMagic</span><span class='p'>();</span> <span class='n'>err</span> <span class='p'>!=</span> <span class='n'>nil</span> <span class='p'>{</span>
    <span class='cm'>/* Calculate result */</span>
  <span class='p'>}</span>
  <span class='k'>return</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre>
</div>
<p>This allows the error from <code>moreMagic</code> to propagate up without reserving an out-of-band result value. It provides no more syntactic overhead than explicit exceptions in Java (and arguably less).</p>

<p>The argument was made that people can fail to check return codes. People can be just as stupid in languages with exceptions. I&#8217;ve lost count how many times I&#8217;ve seen this in Java:</p>
<div class='highlight'><pre><code class='java'><span class='k'>try</span> <span class='o'>{</span>
  <span class='cm'>/* Do something that might blow up */</span>
<span class='o'>}</span> <span class='k'>catch</span> <span class='o'>{</span>
<span class='o'>}</span>
</code></pre>
</div>
<p>The catch block is empty on purpose. People do that. They catch <em>all</em> exceptions and then <em>do nothing</em> with them <em>on purpose</em>. You can be an idiot in any language.</p>

<h3 id='generics'>Generics</h3>

<p>I&#8217;ll be honest. I&#8217;ve hated every implementation of generics I&#8217;ve seen in non- functional languages. That is to say, C++, Java, and C#. They are a poor attempt at implementing the polymorphic types that ML-derivatives have enjoyed for decades. The syntax for them is inevitably terrible and the semantics just as awful. However, plenty of modern languages don&#8217;t have generics.</p>

<p>The author is whining because the language doesn&#8217;t have his favorite language feature.</p>

<h3 id='new_jersey_style'>New Jersey style</h3>

<p>The author wants to suggest that the Go authors subscribe to the <a href='http://www.jwz.org/doc/worse-is-better.html'>New Jersey school</a> of programming. He suggests that his two favorite features (exceptions and generics) aren&#8217;t in the language because the Go authors were too scared to implement them. He even cites the <a href='http://golang.org/doc/go_lang_faq.html'>Language Design FAQ</a> as proof.</p>

<p>If this were a reading report, I would give it a grade of D, maybe a C- if I felt charitable. Why? Because the author of the article clearly had nearly no comprehension of the FAQ. He suggests that the Go authors decided not to include the features because they couldn&#8217;t figure out how to implement them. When the truth is, <em>Go is incomplete</em> and they cannot figure out how to include exceptions or generics <em>yet</em> and are <em>open to suggestions</em>.</p>

<p>Just like with his syntax improvements, I&#8217;d encourage the author to post to the mailing lists with suggestions on how to implement exceptions and generics in such a fashion that they fit in with the philosophy of the language. The Go community is interested in those topics. The discussions are happening right now.</p>

<h3 id='tldr'>TL;DR</h3>

<p>Go is <em>incomplete</em> and <em>experimental</em>. Even recently it went through a fundamental syntax change (making semi-colons optional virtually everywhere). The Go authors are very willing to listen to suggestions that are backed up with code. So, what I have to say to the author is: nut up or shut up.</p></div>
</div>

<div class="post">
  <h3><a href="/2009/12/09/fixing-my-markup.html" rel="bookmark" title="Permanent Link to Fixing My Markup">Fixing My Markup</a></h3>
  <p class="date">December 9th, 2009</p>
  <div class="entry"><p>Several years ago when I created the current design for this blog, I made a rather unfortunate choice of markup for my code snippets. I decided to enclose them in <code>&lt;div&gt;</code> tags like this:</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;div</span> <span class='na'>class=</span><span class='s'>&quot;code&quot;</span><span class='nt'>&gt;&lt;/div&gt;</span>
</code></pre>
</div>
<p>I&#8217;m really not sure <em>why</em> I did that, although I have a vague recollection that it had to do with my CSS not working otherwise.</p>

<p>There was an unfortunate consequence of that: I had to use <code>&amp;nbsp;</code>s in order to get indentation right inside the code blocks. Well, let me tell you, that is a pain in the ass. Needless to say, it demotivated me from writing blog articles with code snippets. This is a blog about programming. You can practically hear the long silence that follows.</p>

<p>Well, I&#8217;ve been more and more motivated to blog stuff lately. However, I wanted to fix this issue with my markup. It turns out that whatever issues I had run into before are gone. This markup works:</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;pre</span> <span class='na'>class=</span><span class='s'>&quot;code&quot;</span><span class='nt'>&gt;&lt;/pre&gt;</span>
</code></pre>
</div>
<p>All I needed to do was go through my nearly 140 posts and change tags and remove <code>&amp;nbsp;</code>s. Yeah, that sounds like fun. Ruby to the rescue! After an aborted attempt to use the AtomPub API (which gave a 302 to a 404), I spent a little bit of time poring over the <a href='http://codex.wordpress.org/XML-RPC_Support'>api</a> <a href='http://www.xmlrpc.com/metaWeblogApi'>documentation</a>. Then I whipped up this little script:</p>
<div class='highlight'><pre><code class='ruby'><span class='nb'>require</span> <span class='s1'>&#39;xmlrpc/client&#39;</span>

<span class='n'>wp</span> <span class='o'>=</span> <span class='no'>XMLRPC</span><span class='o'>::</span><span class='no'>Client</span><span class='o'>.</span><span class='n'>new_from_uri</span><span class='p'>(</span><span class='s1'>&#39;http://example.com/xmlrpc.php&#39;</span><span class='p'>)</span>
<span class='n'>user</span> <span class='o'>=</span> <span class='s1'>&#39;yeah&#39;</span>
<span class='n'>pass</span> <span class='o'>=</span> <span class='s1'>&#39;right&#39;</span>
<span class='n'>blogid</span> <span class='o'>=</span> <span class='mi'>42</span>

<span class='n'>posts</span> <span class='o'>=</span> <span class='n'>wp</span><span class='o'>.</span><span class='n'>call</span><span class='p'>(</span><span class='s2'>&quot;metaWeblog.getRecentPosts&quot;</span><span class='p'>,</span> <span class='n'>blogid</span><span class='p'>,</span> <span class='n'>user</span><span class='p'>,</span> <span class='n'>pass</span><span class='p'>)</span>
<span class='n'>posts</span><span class='o'>.</span><span class='n'>each</span> <span class='k'>do</span> <span class='o'>|</span><span class='n'>post</span><span class='o'>|</span>
  <span class='n'>newtext</span> <span class='o'>=</span> <span class='n'>post</span><span class='o'>[</span><span class='s1'>&#39;description&#39;</span><span class='o'>].</span><span class='n'>gsub</span><span class='p'>(</span><span class='sr'>/&lt;div class=&quot;code&quot;&gt;(.*?)&lt;\/div&gt;/m</span><span class='p'>)</span> <span class='k'>do</span>
    <span class='s2'>&quot;&lt;pre class=</span><span class='se'>\&quot;</span><span class='s2'>code</span><span class='se'>\&quot;</span><span class='s2'>&gt;</span><span class='si'>#{</span><span class='vg'>$1</span><span class='o'>.</span><span class='n'>gsub</span><span class='p'>(</span><span class='s1'>&#39;&amp;nbsp;&#39;</span><span class='p'>,</span><span class='s1'>&#39; &#39;</span><span class='p'>)</span><span class='si'>}</span><span class='s2'>&lt;/pre&gt;&quot;</span>
  <span class='k'>end</span>
  <span class='k'>next</span> <span class='k'>if</span> <span class='n'>post</span><span class='o'>[</span><span class='s1'>&#39;description&#39;</span><span class='o'>]</span> <span class='o'>==</span> <span class='n'>newtext</span>
  <span class='n'>post</span><span class='o'>[</span><span class='s1'>&#39;description&#39;</span><span class='o'>]</span> <span class='o'>=</span> <span class='n'>newtext</span>
  <span class='n'>wp</span><span class='o'>.</span><span class='n'>call</span><span class='p'>(</span><span class='s2'>&quot;metaWeblog.editPost&quot;</span><span class='p'>,</span> <span class='n'>post</span><span class='o'>[</span><span class='s1'>&#39;postid&#39;</span><span class='o'>]</span><span class='p'>,</span> <span class='n'>user</span><span class='p'>,</span> <span class='n'>pass</span><span class='p'>,</span> <span class='n'>post</span><span class='p'>)</span>
<span class='k'>end</span>
</code></pre>
</div>
<p>I ran it, held my tongue just right, and voila. Every post that had the old markup now has the new markup. Just like that.</p></div>
</div>

<div class="post">
  <h3><a href="/2009/08/20/cargo-cult-on-rails.html" rel="bookmark" title="Permanent Link to Cargo Cult on Rails">Cargo Cult on Rails</a></h3>
  <p class="date">August 20th, 2009</p>
  <div class="entry"><p>I&#8217;ve been coding in Ruby for a long time, and I love the language. It has all the object-oriented power of Smalltalk, the functional power of Lisp, and the concision of Perl. It is so powerful that it enables programmers to devise entirely new ways of writing software, and that is the hallmark of a good language.</p>

<p>The trouble is that some of these new ways of programming aren&#8217;t good ways of programming. Over the last five years we&#8217;ve seen the ascent of Ruby on Rails and the Rails Way of doing things. I&#8217;ll be the first to admit that Rails revolutionized web development. But it has taught an entire generation of web developers to think like a cargo cult, and that&#8217;s not good.</p>

<h2 id='convention_over_thinking'>Convention Over Thinking</h2>

<p>Rails&#8217; mantra of convention over configuration is brilliant. I love it. But somewhere along the line the message got skewed and people started thinking that everything should be a convention. Every web app should be written exactly the same, and the only thing that changes is the bits between the browser and the RDBMS. Rails is the glue that holds it together, and you just need to describe the data.</p>

<p>The trouble is, that kind of thinking is just plain wrong. As the folks at Twitter discovered, not every problem is a nail that can be hammered. Sometimes they&#8217;re screws, or bolts, and they need different tools to fasten them down. That&#8217;s why writing software is hard. It requires thinking. If you&#8217;re not thinking to see if the conventions are actually correct for your application, then you&#8217;re doing it wrong.</p>

<h2 id='rockstars_and_groupies'>Rockstars and Groupies</h2>

<p>The Rails community seems to love its rockstar programmers. Big personalities like DHH, Ezra, and Yehuda are practically worshipped. When they speak their minds its taken by many as gospel truth. Because conventions are so important, they need somebody to tell them what the conventions are, so the rails groupies flock to their rockstars to be told how to write their applications.</p>

<p>People, that&#8217;s just sick. You need to be thinking for yourselves. Who cares what DHH thinks? What do <em>you</em> think? Your application should not look like some celebrity programmer tells you it should. Your application should be custom-built to solve the problems in your domain. You are the expert in your domain, so look no further than yourself.</p>

<h2 id='frameworkdriven_development'>Framework-Driven Development</h2>

<p>What it comes down to is that Rails developers are just that: Rails developers. They&#8217;re not software developers, at least not most of them. Their entire software devlopment world is built up around this framework. They only know how to do things the Rails Way. Their framework dictates how their systems are designed instead of the problems the systems are designed to solve.</p>

<p>The real irony here is that this is exactly the kind of problem Rails was running away from. Five years ago, you couldn&#8217;t write a Java-based web-app if you were just some developer who happened to know Java. You had to be a Struts developer or a J2EE developer because you needed to know the deep inner workings of the framework you were going to use. Now Rails is the same way.</p>

<p>Congratulations, Rails, you&#8217;ve turned into your parents.</p></div>
</div>

<div class="post">
  <h3><a href="/2009/07/01/using-emacsclient-on-mac-os.html" rel="bookmark" title="Permanent Link to Using <code>emacsclient</code> on Mac OS">Using <code>emacsclient</code> on Mac OS</a></h3>
  <p class="date">July 1st, 2009</p>
  <div class="entry"><p>There&#8217;s this feature of <a href='http://macromates.com/'>TextMate</a> that a lot of people like: the <code>mate</code> command. It opens up the file or directory you pass to it in your running TextMate instance.</p>

<p>This sort of feature isn&#8217;t anything new. Emacs has had this feature for a long time. You just add this snippet to your to your <code>init.el</code>:</p>
<div class='highlight'><pre><code class='text'>(emacs-server)
</code></pre>
</div>
<p>Then you can use <code>emacsclient</code> to send files to it the same way. However, on my mac this wasn&#8217;t working. The trick, it seems, is making sure you use the <em>correct</em> emacsclient.</p>

<p>About a year ago, <a href='http://emacs-app.sourceforge.net/'>Emacs.app</a> was merged into the main-line GNU Emacs. So you can build a completely Cocoa-based version of the very latest GNU Emacs right out of CVS. If you do that, an <code>emacsclient</code> executable is included in the application bundle.</p>

<p>You can write a little shell script, we&#8217;ll call it <code>eopen</code>:</p>
<div class='highlight'><pre><code class='bash'><span class='c'>#!/bin/sh</span>

<span class='c'># Send the file to our running Emacs and bring it to the foreground.</span>
/Applications/Emacs.app/Contents/MacOS/bin/emacsclient -n <span class='s2'>&quot;${1}&quot;</span> <span class='se'>\</span>
  2&gt; /dev/null <span class='se'>\</span>
  <span class='o'>&amp;&amp;</span> open -a Emacs

<span class='c'># If that failed, then open a new emacs visiting the file.</span>
<span class='k'>if</span> <span class='o'>[</span> <span class='nv'>$?</span> -ne 0 <span class='o'>]</span>; <span class='k'>then</span>
<span class='k'>  </span><span class='nv'>EOPEN_DIR</span><span class='o'>=</span><span class='s2'>&quot;${PWD}&quot;</span> <span class='nv'>EOPEN_FILE</span><span class='o'>=</span><span class='s2'>&quot;${1}&quot;</span> open -a Emacs
<span class='k'>fi</span>
</code></pre>
</div>
<p>Now, you&#8217;ll notice that in the failure case, my script sets some environment variables and just opens Emacs. Those environment variables aren&#8217;t anything special. In fact, unless you add some code to your <code>init.el</code> all you&#8217;ll get is a fresh Emacs open to whatever default buffer you usually see.</p>

<p>So, add the following to your <code>init.el</code>:</p>
<div class='highlight'><pre><code class='text'>(let ((dir (getenv &quot;EOPEN_DIR&quot;))
      (file (getenv &quot;EOPEN_FILE&quot;)))
  (if dir
      (cd dir))
  (if file
      (find-file file)))
</code></pre>
</div>
<p>Then, when you have those environment variables set (such as in the shell script), emacs will open up a buffer on the file or directory passed in as an argument to the script. This hack is there so that you can use eopen to open non-existent files in addition to existent files (<code>open</code> complains if the file does not exist). Subsequent calls to the script can just use <code>emacsclient</code>.</p></div>
</div>

<div class="post">
  <h3><a href="/2009/06/25/an-example-of-defadvice-in-emacs.html" rel="bookmark" title="Permanent Link to An example of <code>defadvice</code> in Emacs">An example of <code>defadvice</code> in Emacs</a></h3>
  <p class="date">June 25th, 2009</p>
  <div class="entry"><p>For decades there&#8217;s been a <a href='http://en.wikipedia.org/wiki/Editor_war'>war</a> between zealous users of various editors. The truth is, though, that it is completely unfair to compare editors such as vi, Textmate, or BBedit with Emacs. Why is it unfair? Emacs isn&#8217;t an editor, it is a programming environment. Today I want to share an example just how powerful this distinction is.</p>

<p>It&#8217;s better to compare Emacs to Smalltalk. It has a very small core written in C, but almost all of the functionality you think of as Emacs is written in Emacs Lisp. Emacs is really just a Lisp interpreter with a lot of primitives built in for shuffling text around on the screen. This has a lot of awesome implications for people who want to build tools for programming.</p>

<p>For example, some people like to have a window pane that shows them the file structure of their project. Textmate does this. With <a href='http://code.google.com/p/emacs-nav/'>nav</a> you can have that in Emacs. However, it always puts the navigation on the left-hand side of the frame.</p>

<p>One of my co-workers wanted his nav to show up on the right-hand side. So I started by typing <code>C-h k nav RET</code> and that brought up the help for the function <code>nav</code> which puts the navigation buffer on the screen.</p>
<div class='highlight'><pre><code class='text'>(defun nav ()
  &quot;Run nav-mode in a narrow window on the left side.&quot;
  (interactive)
  (if (nav-is-open)
      (nav-quit)
    (delete-other-windows)
    (split-window-horizontally)
    **(other-window 1)**
    (ignore-errors (kill-buffer nav-buffer-name))
    (pop-to-buffer nav-buffer-name nil)
    (set-window-dedicated-p (selected-window) t)
    (nav-mode)
    (when nav-resize-frame-p
      (nav-resize-frame))))
</code></pre>
</div>
<p>A quick terminology note. In Emacs-speak, operating-system windows are called <em>frames</em>. A frame can be split into multiple <em>windows</em>.</p>

<p>Doing the same for some of the other functions (<code>split-window-horizontally</code>, <code>other-window</code>, <code>pop-to-buffer</code>), I was able to determine what this function was doing. The call to <code>split-window-horizontally</code> leaves the right-hand window active, so the call to <code>other-window</code> hops back to the left-hand window (but only because all windows were deleted before the split). Then from there on out, everything assumes that it&#8217;s in that left-hand window and alters its behavior.</p>

<p>So, all we need to do is delete the line I bolded above and it should work. Because this is Lisp, I just copy the whole function into a buffer called <code>*scratch*</code>, make my edit, and evaluate the code. So, now when I type <code>M-x nav
RET</code> I call my new function that does not call <code>other-window</code>. Sure enough, it shows up on the right-hand side.</p>

<p>However, I do not want to duplicate all the rest of that code. Emacs has an awesome facility to assist me, and it&#8217;s called <code>defadvice</code>.</p>
<div class='highlight'><pre><code class='text'>;;;;;;;; To launch nav on left side: M-x nav RET
;;;;;;;; To launch nav on right side: C-u M-x nav RET
(defadvice other-window (around other-window-nop))
(defadvice nav (around prefix-nav)
  (if current-prefix-arg
      (ad-activate-regexp &quot;other-window-nop&quot;))
  (unwind-protect
      ad-do-it
    (ad-deactivate-regexp &quot;other-window-nop&quot;)))
(ad-activate-regexp &quot;prefix-nav&quot;)
</code></pre>
</div>
<p>This is essentially <a href='http://en.wikipedia.org/wiki/Monkey_patch'>monkey-patching</a> by another name. When I activate this advice it gets called instead of the function it&#8217;s advising, then at the point I call <code>ad-do-it</code>, the original function (and any previously defined advice) gets called. In the above code, I have two pieces of advice. One simply turns <code>other-window</code> into a no-op, and the other turns that on and off, but only if you use the universal prefix.</p>

<p>You can do this for any function in the system. Even the functions that get called when you hit individual keys. That is why Emacs is so powerful. It&#8217;s not an editor, it&#8217;s an environment.</p></div>
</div>

<div class="post">
  <h3><a href="/2009/06/22/changes.html" rel="bookmark" title="Permanent Link to Changes">Changes</a></h3>
  <p class="date">June 22nd, 2009</p>
  <div class="entry"><p>I&#8217;m back!</p>

<p>My Spring got swallowed up by the tail-end of my last semester at <a href='http://www.unomaha.edu'>UNO</a>. Now it&#8217;s Summer and I&#8217;m living in San Francisco.</p>

<p>That&#8217;s right, I&#8217;m in San Francisco. I was planning on moving out here mid- July, but circumstances conspired such that I moved out here a week ago. I already have an <a href='http://www.youtube.com/watch?v=t3s4YLqOF74'>apartment</a>, and I&#8217;m getting settled in. I was hoping to get around and visit more of my friends in Omaha before I left, but hey, I&#8217;ll be visiting.</p>

<p>I am going to be blogging here again now that my brain isn&#8217;t getting drained (filled?) by school. My wife and I are also starting another <a href='http://blog.procacious.com'>blog</a> to talk about general life stuff.</p></div>
</div>

<div class="post">
  <h3><a href="/2009/03/20/pet-paradise-part-1-algorithms.html" rel="bookmark" title="Permanent Link to Pet Paradise Part 1: Algorithms">Pet Paradise Part 1: Algorithms</a></h3>
  <p class="date">March 20th, 2009</p>
  <div class="entry"><p>So <a href='http://jays.net'>Jay Hannah</a> over at <a href='http://odynug.kicks-ass.org'>ODynUG</a> has issued a <a href='http://github.com/stesla/odynug/blob/3d3d75cc4d70b189c625579ce841de3ce7ada68b/pet_paradise/README'>programming challenge</a>. Far be it from me to turn that kind of thing down. I am going to be doing this in Erlang.</p>

<p>Before I dive into coding on this, I want to give some thought to the algorithms I want to use in order to solve the problem. The way I tend to approach this is to consider what other problems I&#8217;ve solved, and see which this one looks the most like. Given my strong mathematics background, I tend to draw on theory-laden ideas. In this particular case I&#8217;m going to use graph theory. I plan to construct an <a href='http://en.wikipedia.org/wiki/Interval_graph'>interval graph</a>, do some processing on it, and then find a <a href='http://en.wikipedia.org/wiki/Graph_coloring'>coloring</a>. I&#8217;ll then examine each color class, and find the one that produces the largest revenue.</p>

<p>The first step is to turn the raw demand data into an interval graph. In this graph, each individual demand will be represented by a vertex. An edge will be added to the graph between each demand that overlaps in time. At this point, we&#8217;re paying no attention to cats, dogs, small cages or large cages. All we want to see is how the demands overlap in time.</p>

<p>The second step is to group together the vertices that represent demands that can be met simultaneously. So picking a vertex, we&#8217;ll traverse all of its edges, and if we can combine two vertices in to one that represents them both, then we&#8217;ll do that. This presents an interesting problem, as the order in which we traverse the vertices makes a difference as to how many can be combined. However, it&#8217;s more likely that we&#8217;ll be able to combine demands if they have fewer pets or if their pets are smaller, so I&#8217;m going to traverse them in increasing order of pet quantity and size.</p>

<p>Next, we&#8217;ll find a coloring for the graph using the <a href='http://en.wikipedia.org/wiki/Greedy_coloring'>greedy coloring algorithm</a>. To use this algorithm we need to pick a vertex ordering. Since the number of colors used can at most be one more than degree of the most connected vertex in the graph, and the greedy coloring algorithm relies on looking at the colors of previously colored neighbors, it makes sense to order the vertices in decreasing order of degree.</p>

<p>Armed with a coloring, we simply sum the rates for all of the demands in each color class, and then select the color that gives us the biggest revenue. The demands in that color are the ones that get accepted, the rest get rejected.</p>

<p>There are some drawbacks to this approach. For one, the graph coloring problem is <a href='http://en.wikipedia.org/wiki/NP-complete'>NP-complete</a>, so we cannot always be certain that the coloring we produce is the <em>optimal</em> coloring. Also, because of how we&#8217;re combining demands together, it is possible that a different combination would yield higher revenue. However, this algorithm should perform fairly well.</p></div>
</div>

<div class="post">
  <h3><a href="/2009/03/20/back-from-the-dead.html" rel="bookmark" title="Permanent Link to Back From The Dead">Back From The Dead</a></h3>
  <p class="date">March 20th, 2009</p>
  <div class="entry"><p>Okay, so I died a little.</p>

<p>I&#8217;ve been so busy, and writing on my blog has really just slipped my mind. Let alone working on side projects like blogerl or VUE.</p>

<p>Anyway, I&#8217;m back. I&#8217;m going to try and post at least once a week, if not more. I&#8217;m going to start off with some posts explaining how I&#8217;m going about solving a <a href='http://github.com/stesla/odynug/blob/3d3d75cc4d70b189c625579ce841de3ce7ada68b/pet_paradise/README'>programming challenge</a> for <a href='http://odynug.kicks-ass.org'>ODynUG</a>.</p></div>
</div>


       </div>
     </div>
     <div class="yui-b">
       <div class="yui-u sidebar">
         <h2 class="sectionheader first">Archives</h2>
         <ul>
           
           <li><a href="/2011/">2011</a></li>
           
           <li><a href="/2010/">2010</a></li>
           
           <li><a href="/2009/">2009</a></li>
           
           <li><a href="/2008/">2008</a></li>
           
           <li><a href="/2007/">2007</a></li>
           
           <li><a href="/2006/">2006</a></li>
           
           <li><a href="/2005/">2005</a></li>
           
         </ul>
       </div>
     </div>
   </div>
   <div id="ft">
     <p>Layout, design, graphics, photography and text all &copy; 2005-2010 Samuel Tesla unless otherwise noted.</p>
     <p>Portions of the site layout use Yahoo! YUI Reset, Fonts &amp; Grids.</p>
   </div>
 </div>

<!-- BEGIN GOOGLE ANALYTICS -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-12538528-2");
pageTracker._setDomainName(".alieniloquent.com");
pageTracker._trackPageview();
} catch(err) {}</script>
<!-- END GOOGLE ANALYTICS -->

</body>
</html>
